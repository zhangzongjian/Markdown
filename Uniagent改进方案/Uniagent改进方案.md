# 一、Exporter采集

| 问题痛点           | 改进方案       | 具体措施                                         |
| ------------------ | -------------- | ------------------------------------------------ |
| 业务数据无测量单元 | 采集Main客户端 | 开发脚本Main函数，输入taskId，采集一次数据并输出 |
| 接口不通或密码错误 | 同上           | 同上                                             |

# 二、Uniagent对接DV

| 问题痛点     | 改进方案                 | 具体措施                                          |
| ------------ | ------------------------ | ------------------------------------------------- |
| 上报数据失败 | 检测脚本，检测对接DV状态 | 开发脚本，搜索日志检查notice/perf/fault上报返回码 |
| return 0     | 重新对接DV脚本           | 开发脚本Main函数，输入南向密码和证书，重新对接    |
| 南向密码错误 | 南向接口测试连通客户端   | 开发脚本Main函数，访问接口输出结果                |


# 三、性能采集状态

| 问题痛点                               | 改进方案     | 具体措施                                                                                                                                                                                                                                                     |
| -------------------------------------- | ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 前台无数据，Uniagent内部采集状态不可见 | 流程检查脚本 | 开发脚本，输入moduleId+测量单元，搜索日志检查各项流程。<br />流程包括：任务下发日志、采集日志、上报日志（最近3个周期）<br />1. 自定义性能采集，无上报日志，执行一次采集脚本并输出结果<br />2. 日志采集，采集记录文件为空，切换用户cat tail日志文件，检查权限 |
| 性能掉点                               | 可能重启导致 | 开发脚本，检测最近重启日志                                                                                                                                                                                                                                   |


# 四、告警采集状态

| 问题痛点                               | 改进方案     | 具体措施                                                                                                                                                                                                                                                                                                                        |
| -------------------------------------- | ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 前台无告警，Uniagent内部采集状态不可见 | 流程检查脚本 | 开发脚本，输入alarmId，搜索日志检查各项流程。<br />流程包括：采集日志、上报日志<br />1. 外部告警，搜索接收日志<br />2. 内部告警，输出开始采集日志（最近3个周期）<br />3. 输出上报告警数据<br />4. 自定义告警采集，无上报日志，执行一次采集脚本并输出结果<br />5. 日志采集，采集记录文件为空，切换用户cat tail日志文件，检查权限 |



# 五、Module注册

| 问题痛点                               | 改进方案         | 具体措施                                                                                 |
| -------------------------------------- | ---------------- | ---------------------------------------------------------------------------------------- |
| Module是否注册，Uniagent内部状态不可见 | Module查询客户端 | 1. 开发脚本Main函数，输入moduleId，查询module数据<br />2. 查询无module数据，搜索注册日志 |
